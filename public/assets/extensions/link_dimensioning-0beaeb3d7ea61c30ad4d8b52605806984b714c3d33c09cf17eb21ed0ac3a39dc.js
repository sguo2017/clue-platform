"use strict";function DimensioningLink(){go.Link.call(this),this.isLayoutPositioned=!1,this.isTreeLink=!1,this.routing=go.Link.Orthogonal,this._direction=0,this._extension=30,this._inset=10,this._gap=10}go.Diagram.inherit(DimensioningLink,go.Link),Object.defineProperty(DimensioningLink.prototype,"direction",{get:function(){return this._direction},set:function(i){if(!isNaN(i)&&0!==i&&90!==i&&180!==i&&270!==i)throw new Error("DimensioningLink: invalid new direction: "+i);this._direction=i}}),Object.defineProperty(DimensioningLink.prototype,"extension",{get:function(){return this._extension},set:function(i){this._extension=i}}),Object.defineProperty(DimensioningLink.prototype,"inset",{get:function(){return this._inset},set:function(i){if(!(i>=0))throw new Error("DimensioningLink: invalid new inset: "+i);this._inset=i}}),Object.defineProperty(DimensioningLink.prototype,"gap",{get:function(){return this._gap},set:function(i){if(!(i>=0))throw new Error("DimensioningLink: invalid new gap: "+i);this._gap=i}}),DimensioningLink.prototype.computePoints=function(){var i=this.fromNode;if(!i)return!1;var t=this.fromPort,n=this.computeSpot(!0),e=this.toNode;if(!e)return!1;var s=this.toPort,o=this.computeSpot(!1),h=this.getLinkPoint(i,t,n,!0,!0,e,s);if(!h.isReal())return!1;var r=this.getLinkPoint(e,s,o,!1,!0,i,t);if(!r.isReal())return!1;this.clearPoints();var a=this.direction;if(isNaN(a)){a=h.directionPoint(r);var d=new go.Point(this.extension,0);d.rotate(a+90);var g=new go.Point(this.extension-this.inset,0);g.rotate(a+90);var x=new go.Point(this.gap,0);x.rotate(a+90),this.addPointAt(h.x+x.x,h.y+x.y),this.addPointAt(h.x+d.x,h.y+d.y),this.addPointAt(h.x+g.x,h.y+g.y),this.addPointAt(r.x+g.x,r.y+g.y),this.addPointAt(r.x+d.x,r.y+d.y),this.addPointAt(r.x+x.x,r.y+x.y)}else{var y=(this.extension,0),p=0,P=0,c=0;0===a||180===a?(0===a?(y=Math.min(h.y,r.y)-this.extension,p=y+this.inset,P=h.y-this.gap,c=r.y-this.gap):(y=Math.max(h.y,r.y)+this.extension,p=y-this.inset,P=h.y+this.gap,c=r.y+this.gap),this.addPointAt(h.x,P),this.addPointAt(h.x+.01,y),this.addPointAt(h.x,p),this.addPointAt(r.x,p),this.addPointAt(r.x-.01,y),this.addPointAt(r.x,c)):90!==a&&270!==a||(90===a?(y=Math.max(h.x,r.x)+this.extension,p=y-this.inset,P=h.x+this.gap,c=r.x+this.gap):(y=Math.min(h.x,r.x)-this.extension,p=y+this.inset,P=h.x-this.gap,c=r.x-this.gap),this.addPointAt(P,h.y),this.addPointAt(y,h.y+.01),this.addPointAt(p,h.y),this.addPointAt(p,r.y),this.addPointAt(y,r.y-.01),this.addPointAt(c,r.y))}return this.updateTargetBindings(),!0};